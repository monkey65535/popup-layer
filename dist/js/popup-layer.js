function PopupLayer(t){if(!t||"[object Object]"!==Object.prototype.toString.call(t))return void console.log("请传入正确参数");var e={title:"这是一个title",content:"",choose:!1,fnSucc:function(){},fnFail:function(){}};this.config=extened(e,t),this.return=null,this.rand=!1,this.body=document.querySelector("body"),this.randerBg=null,this.popCon=null,this.btnCon=null,this.btns=null,this.rander()}function extened(t,e){var n=Object.prototype.toString;if(e&&t&&n.call(e)===n.call(t)){var o="[object Object]"===n.call(e)?{}:[];for(var a in e)"[object Object]"===n.call(e[a])||"[object Array]"===n.call(e[a])?t[a]=extened(t,e[a]):t[a]=e[a];for(var a in t)o[a]=t[a];return o}}function addClass(t,e){if(t){var n=t.className;if(n.indexOf(e)==-1){var o=""==n?e:" "+e;t.className=n+o}}}function removeClass(t,e){if(t&&e){var n=t.className;if(n.indexOf(e)!=-1){for(var o=n.split(" "),a=0;a<o.length;a++)o[a]===e&&(o.splice(a,1),a--);t.className=o.join(" ")}}}PopupLayer.prototype={construct:PopupLayer,rander:function(){var t=document.querySelector("body"),e=document.createElement("div");e.className="g-popbg-mask";var n=document.createElement("div");n.className="popup-content move-animate",e.appendChild(n);var o=document.createElement("h4");o.className="pop-title",o.innerHTML=this.config.title;var a=document.createElement("p");a.className="pop-text",a.innerHTML=this.config.content;var i=document.createElement("div");i.className="pop-btns sure",i.innerHTML="",this.config.choose?i.innerHTML='<button class="pop-button" data-bool="true">确认</button><button class="pop-button" data-bool="false">取消</button>':i.innerHTML="<button>确认</button>";var r=[];r.push(o,a,i),r.forEach(function(t){n.appendChild(t)}),t.appendChild(e),this.rand=!0,this.return=null,this.active()},active:function(){var t=this;if(this.rand){this.randerBg=document.querySelector(".g-popbg-mask"),this.popCon=this.randerBg.querySelector(".popup-content"),this.btnCon=this.popCon.querySelector(".g-popbg-mask .popup-content .pop-btns"),this.btns=this.btnCon.children;for(var e=0;e<this.btns.length;e++)this.btns[e].addEventListener("click",function(){t.return=null,removeClass(t.popCon,"move-animate"),addClass(t.popCon,"leave-animate"),addClass(t.popCon,"block-animate"),t.config.choose&&(this.dataset.bool?t.config.fnSucc(this.dataset.bool):t.config.fnFail(this.dataset.bool)),setTimeout(function(){t.body.removeChild(t.randerBg)},250),t.rand=!1});return this.return?this.return:void 0}}};